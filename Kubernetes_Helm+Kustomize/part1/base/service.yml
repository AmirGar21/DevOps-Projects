apiVersion: v1
kind: Service
metadata:
  name: postgres
spec:
  type: ClusterIP
  ports:
    - port: 5432
      targetPort: 5432
  selector:
    app: postgres
---
apiVersion: v1
kind: Service
metadata:
  name: rabbitmq
spec:
  type: ClusterIP
  ports:
    - port: 5672
      targetPort: 5672
      name: amqp
  selector:
    app: rabbitmq
---
apiVersion: v1
kind: Service
metadata:
  name: booking-service
spec:
  type: ClusterIP
  ports:
    - port: 8083
      targetPort: 8083
  selector:
    app: booking-service
---
apiVersion: v1
kind: Service
metadata:
  name: gateway-service
spec:
  type: NodePort
  selector:
    app: gateway-service
  ports:
    - port: 8087
      targetPort: 8087
      nodePort: 30087
---
apiVersion: v1
kind: Service
metadata:
  name: hotel-service
spec:
  type: ClusterIP
  selector:
    app: hotel-service
  ports:
    - port: 8082
      targetPort: 8082
---
apiVersion: v1
kind: Service
metadata:
  name: loyalty-service
spec:
  type: ClusterIP
  selector:
    app: loyalty-service
  ports:
    - port: 8085
      targetPort: 8085
---
apiVersion: v1
kind: Service
metadata:
  name: payment-service
spec:
  type: ClusterIP
  selector:
    app: payment-service
  ports:
    - port: 8084
      targetPort: 8084
---
apiVersion: v1
kind: Service
metadata:
  name: report-service
spec:
  type: ClusterIP
  selector:
    app: report-service
  ports:
    - port: 8086
      targetPort: 8086
---
apiVersion: v1
kind: Service
metadata:
  name: session-service
spec:
  type: NodePort
  selector:
    app: session-service
  ports:
    - port: 8081
      targetPort: 8081
      nodePort: 30081
