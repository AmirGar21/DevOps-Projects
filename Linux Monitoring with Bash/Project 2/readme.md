# Linux File System & Monitoring Lab

Проект: работа с файлами, логами и мониторингом системы.

---

## Part 1. Генератор файлов
**Описание:** Создание вложенных папок и файлов.

**Запуск:**  
bash
main.sh /opt/test 4 az 5 az.az 3kb
Параметры:

Абсолютный путь

Количество вложенных папок

Буквы для папок (≤7)

Количество файлов в каждой папке

Буквы для имени файлов и расширения (имя ≤7, расширение ≤3)

Размер файлов (≤100 Кб)

Особенности:

Имена ≥4 символов + дата DDMMYY

Порядок букв сохраняется

Останов при свободном месте <1 Гб

Лог-файл с путями, датой и размером файлов

## Part 2. Засорение файловой системы
Описание: Создание папок и файлов в разных местах системы.

Запуск:

bash
Копировать код
main.sh az az.az 3Mb
Параметры:

Буквы для папок (≤7)

Буквы для имени файлов и расширения (≤7/3)

Размер файлов в Мб (≤100)

Особенности:

Имена ≥5 символов + дата DDMMYY

До 100 вложенных папок, случайное количество файлов

Останов при свободном месте <1 Гб

Лог-файл + время начала, окончания и длительность работы

## Part 3. Очистка файловой системы
Описание: Удаление созданных папок и файлов 3 способами:

По лог-файлу

По дате/времени создания

По маске имени (буквы + дата)

Запуск:

bash
Копировать код
cleanup.sh <1|2|3>
Особенности:

Для удаления по дате вводится время начала и конца (точность до минуты)

## Part 4. Генератор логов
Описание: Генерация 5 файлов логов nginx (combined format), по одному на день.

Особенности:

Записей: случайно 100–1000

Для каждой записи: IP, код ответа (200,201,400,401,403,404,500,501,502,503), метод (GET, POST, PUT, PATCH, DELETE), дата внутри дня, URL, user-agent (Mozilla, Chrome, Opera, Safari, IE, Edge, Crawler, Library)

## Part 5. Мониторинг логов
Описание: Разбор логов nginx через awk.

Запуск:

bash
Копировать код
monitor.sh <1|2|3|4>
Функции:

Все записи, отсортированные по коду ответа

Все уникальные IP

Все запросы с ошибками (4xx и 5xx)

Уникальные IP среди ошибочных запросов

## Part 6. GoAccess
Описание: Использовать GoAccess для визуализации данных из Part 5.

Получение той же информации

Открытие веб-интерфейса на локальной машине

## Part 7. Prometheus и Grafana
Описание: Мониторинг состояния системы.

Действия:

Установка Prometheus и Grafana на ВМ

Доступ к веб-интерфейсам

Дашборд: CPU, RAM, свободное место, I/O на диске

Запуск скрипта из Part 2

Нагрузка через stress -c 2 -i 1 -m 1 --vm-bytes 32M -t 10s

Анализ нагрузки CPU, RAM и диска

## Part 8. Готовый дашборд
Описание: Использование Node Exporter Quickstart Dashboard.

Действия:

Установка готового дашборда Grafana

Проведение тестов, как в Part 7

Запуск ещё одной ВМ в одной сети

Тест сети с iperf3

Анализ нагрузки сетевого интерфейса

